(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{UqLd:function(l,n,u){"use strict";u.r(n);var e=u("CcnG"),t=u("mrSG"),o=u("9587"),r=u("ZZ/e"),i=function(){function l(l,n,u){this.rpiService=l,this.loadingController=n,this.alertController=u}return l.prototype.ngOnInit=function(){this.getAlarms()},l.prototype.getAlarms=function(){return t.b(this,void 0,void 0,function(){var l=this;return t.e(this,function(n){switch(n.label){case 0:return[4,this.presentLoading("Loading Alarms")];case 1:return n.sent(),[4,this.rpiService.getAlarms()];case 2:return n.sent().subscribe(function(n){l.alarms=n,console.log("alarms ready"),l.loadingController.dismiss()},function(n){l.error=n.message}),[2]}})})},l.prototype.changeAlarm=function(l,n){return t.b(this,void 0,void 0,function(){var l,u=this;return t.e(this,function(e){switch(e.label){case 0:return this.alarms&&this.alarms[n]?(l=this.alarms[n].on.valueOf(),[4,this.presentLoading("Setting on ="+l)]):[3,3];case 1:return e.sent(),[4,this.rpiService.switchAlarm(n,!l)];case 2:e.sent().subscribe(function(l){u.loadingController.dismiss()},function(l){u.error=l.message}),e.label=3;case 3:return[2]}})})},l.prototype.presentLoading=function(l){return t.b(this,void 0,void 0,function(){return t.e(this,function(n){switch(n.label){case 0:return[4,this.loadingController.create({message:l,duration:8e3})];case 1:return[4,n.sent().present()];case 2:return n.sent(),[2]}})})},l.prototype.doRefresh=function(l){t.b(this,void 0,void 0,function(){return t.e(this,function(n){switch(n.label){case 0:return l.target.complete(),[4,this.getAlarms()];case 1:return n.sent(),[2]}})})},l.prototype.showDelete=function(l){return t.b(this,void 0,void 0,function(){var n=this;return t.e(this,function(u){switch(u.label){case 0:return[4,this.presentAlert({header:"Delete",subHeader:"Alarm with index "+l,message:"Do you Really want to Delete this Alarm?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary"},{text:"Delete",cssClass:"danger",handler:function(){return t.b(n,void 0,void 0,function(){var n=this;return t.e(this,function(u){switch(u.label){case 0:return[4,this.rpiService.deleteAlarm(l)];case 1:return u.sent().subscribe(function(l){n.alarms=l}),[2]}})})}}]})];case 1:return u.sent(),[2]}})})},l.prototype.presentAlert=function(l){return t.b(this,void 0,void 0,function(){return t.e(this,function(n){switch(n.label){case 0:return[4,this.alertController.create(l)];case 1:return[4,n.sent().present()];case 2:return n.sent(),[2]}})})},l}(),s=function(){return function(){}}(),a=u("pMnS"),c=u("oBZk"),b=u("gIcY"),h=u("Ip0R"),p=e.nb({encapsulation:0,styles:[[""]],data:{}});function d(l){return e.Eb(0,[(l()(),e.pb(0,0,null,null,33,"ion-card",[],null,null,null,c.I,c.d)),e.ob(1,49152,null,0,r.l,[e.h,e.k],null,null),(l()(),e.pb(2,0,null,0,4,"ion-card-header",[],null,null,null,c.F,c.f)),e.ob(3,49152,null,0,r.n,[e.h,e.k],null,null),(l()(),e.pb(4,0,null,0,2,"ion-card-title",[],null,null,null,c.H,c.h)),e.ob(5,49152,null,0,r.p,[e.h,e.k],null,null),(l()(),e.Db(6,0,[" "," "])),(l()(),e.pb(7,0,null,0,26,"ion-card-content",[],null,null,null,c.E,c.e)),e.ob(8,49152,null,0,r.m,[e.h,e.k],null,null),(l()(),e.pb(9,0,null,0,24,"ion-grid",[],null,null,null,c.L,c.k)),e.ob(10,49152,null,0,r.z,[e.h,e.k],null,null),(l()(),e.pb(11,0,null,0,22,"ion-row",[],null,null,null,c.X,c.w)),e.ob(12,49152,null,0,r.hb,[e.h,e.k],null,null),(l()(),e.pb(13,0,null,0,3,"ion-col",[],null,null,null,c.J,c.i)),e.ob(14,49152,null,0,r.s,[e.h,e.k],null,null),(l()(),e.pb(15,0,null,0,1,"p",[["align-self-start",""]],null,null,null,null,null)),(l()(),e.Db(16,null,["Time: ",":",""])),(l()(),e.pb(17,0,null,0,3,"ion-col",[],null,null,null,c.J,c.i)),e.ob(18,49152,null,0,r.s,[e.h,e.k],null,null),(l()(),e.pb(19,0,null,0,1,"p",[["align-self-center",""]],null,null,null,null,null)),(l()(),e.Db(20,null,[" Days: [","] "])),(l()(),e.pb(21,0,null,0,12,"ion-col",[],null,null,null,c.J,c.i)),e.ob(22,49152,null,0,r.s,[e.h,e.k],null,null),(l()(),e.pb(23,0,null,0,6,"ion-toggle",[["align-self-end",""],["color","success"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionChange"],[null,"ngModelChange"],[null,"ionBlur"]],function(l,n,u){var t=!0,o=l.component;return"ionBlur"===n&&(t=!1!==e.yb(l,24)._handleBlurEvent()&&t),"ionChange"===n&&(t=!1!==e.yb(l,24)._handleIonChange(u.target.checked)&&t),"ionChange"===n&&(t=!1!==o.changeAlarm(u,l.context.index)&&t),"ngModelChange"===n&&(t=!1!==(l.context.$implicit.on=u)&&t),t},c.ab,c.z)),e.ob(24,16384,null,0,r.c,[e.k],null,null),e.Ab(1024,null,b.b,function(l){return[l]},[r.c]),e.ob(26,671744,null,0,b.e,[[8,null],[8,null],[8,null],[6,b.b]],{model:[0,"model"]},{update:"ngModelChange"}),e.Ab(2048,null,b.c,null,[b.e]),e.ob(28,16384,null,0,b.d,[[4,b.c]],null,null),e.ob(29,49152,null,0,r.zb,[e.h,e.k],{color:[0,"color"]},null),(l()(),e.pb(30,0,null,0,3,"ion-button",[["color","danger"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.showDelete(l.context.index)&&e),e},c.C,c.b)),e.ob(31,49152,null,0,r.j,[e.h,e.k],{color:[0,"color"]},null),(l()(),e.pb(32,0,null,0,1,"ion-icon",[["name","trash"],["slot","icon-only"]],null,null,null,c.N,c.m)),e.ob(33,49152,null,0,r.B,[e.h,e.k],{name:[0,"name"]},null)],function(l,n){l(n,26,0,n.context.$implicit.on),l(n,29,0,"success"),l(n,31,0,"danger"),l(n,33,0,"trash")},function(l,n){l(n,6,0,n.context.$implicit.name),l(n,16,0,n.context.$implicit.hour,n.context.$implicit.min);var u=n.context.$implicit.days.join(",");l(n,20,0,u),l(n,23,0,e.yb(n,28).ngClassUntouched,e.yb(n,28).ngClassTouched,e.yb(n,28).ngClassPristine,e.yb(n,28).ngClassDirty,e.yb(n,28).ngClassValid,e.yb(n,28).ngClassInvalid,e.yb(n,28).ngClassPending)})}function g(l){return e.Eb(0,[(l()(),e.pb(0,0,null,null,10,"ion-header",[],null,null,null,c.M,c.l)),e.ob(1,49152,null,0,r.A,[e.h,e.k],null,null),(l()(),e.pb(2,0,null,0,8,"ion-toolbar",[],null,null,null,c.bb,c.A)),e.ob(3,49152,null,0,r.Ab,[e.h,e.k],null,null),(l()(),e.pb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,c.D,c.c)),e.ob(5,49152,null,0,r.k,[e.h,e.k],null,null),(l()(),e.pb(6,0,null,0,1,"ion-menu-button",[],null,null,null,c.S,c.s)),e.ob(7,49152,null,0,r.Q,[e.h,e.k],null,null),(l()(),e.pb(8,0,null,0,2,"ion-title",[],null,null,null,c.Z,c.y)),e.ob(9,49152,null,0,r.yb,[e.h,e.k],null,null),(l()(),e.Db(-1,0,["Alarms "])),(l()(),e.pb(11,0,null,null,7,"ion-content",[],null,null,null,c.K,c.j)),e.ob(12,49152,null,0,r.t,[e.h,e.k],null,null),(l()(),e.pb(13,0,null,0,3,"ion-refresher",[["slot","fixed"]],null,[[null,"ionRefresh"]],function(l,n,u){var e=!0;return"ionRefresh"===n&&(e=!1!==l.component.doRefresh(u)&&e),e},c.W,c.u)),e.ob(14,49152,null,0,r.bb,[e.h,e.k],null,null),(l()(),e.pb(15,0,null,0,1,"ion-refresher-content",[],null,null,null,c.V,c.v)),e.ob(16,49152,null,0,r.cb,[e.h,e.k],null,null),(l()(),e.gb(16777216,null,0,1,null,d)),e.ob(18,278528,null,0,h.h,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,18,0,n.component.alarms)},null)}function f(l){return e.Eb(0,[(l()(),e.pb(0,0,null,null,1,"app-alarms",[],null,null,null,g,p)),e.ob(1,114688,null,0,i,[o.a,r.Eb,r.a],null,null)],function(l,n){l(n,1,0)},null)}var m=e.lb("app-alarms",i,f,{},{},[]),v=u("ZYCi");u.d(n,"AlarmsPageModuleNgFactory",function(){return w});var w=e.mb(s,[],function(l){return e.vb([e.wb(512,e.j,e.bb,[[8,[a.a,m]],[3,e.j],e.x]),e.wb(4608,h.k,h.j,[e.u,[2,h.q]]),e.wb(4608,b.g,b.g,[]),e.wb(4608,r.b,r.b,[e.z,e.g]),e.wb(4608,r.Fb,r.Fb,[r.b,e.j,e.q,h.c]),e.wb(4608,r.Ib,r.Ib,[r.b,e.j,e.q,h.c]),e.wb(1073742336,h.b,h.b,[]),e.wb(1073742336,b.f,b.f,[]),e.wb(1073742336,b.a,b.a,[]),e.wb(1073742336,r.Cb,r.Cb,[]),e.wb(1073742336,v.o,v.o,[[2,v.u],[2,v.m]]),e.wb(1073742336,s,s,[]),e.wb(1024,v.k,function(){return[[{path:"",component:i}]]},[])])})}}]);